# Сайт: https://crackmes.one/
# Название: XOR Crackme
# Автор: 2koy
# Сложность: 1


Разрберем достаточно простую задачу с сайта crackmes.one под названием XOR Crackme. Сайт предлагает достаточно большое кол-во задач 
на реверс, так, что заинтересует многих, кто интересуется этой темой. В отличии от таких сайтов, как 
forkbomb или picoCTF, на мой лично взгляд предлагает гораздо более приближенные к реальности задачи.
Задачи 3 и 4 уровня заставят покопаться уже даже бывалого реверсера :). 

Но хватит предисловий, давайте сразу к делу. Не будем церемониться со скаченным бинарником и закинем его сразу в IDA. 

Шаг 1. Отключение отладчика.

Хоть задача и простая, но сразу же нас встречает функция `isDebuggerPresent()`. Данная функция возвращает 0, если процесс выполняется
не под отладчиком и другое любое положительное число, если под ним. То есть, перед нами ничто иное, как простейший антиотладочный прием.

  ![image](https://github.com/user-attachments/assets/290bb77c-6301-46ae-b447-4b5451da8575)


Итак, пропатчим программу, чтобы обойти данный механизм.Для этого наводим на инструкцию, которую хотими изменить, далее идем в Edit -> Patch Program->Assemble.
И меняем инструкцию следующим образом:

![image](https://github.com/user-attachments/assets/d218a879-0aaf-4b93-927d-f232de82785e)


Нажимаем Ок. И как видим мы успешно пропатчили программу. 

![image](https://github.com/user-attachments/assets/dca3fa5b-972c-439b-9f8b-00aee0ff83f8)

В чем смысл данного действия ? Объсняю. Данный переход проверяет флаг ZF. До этого команда `test eax,eax` изменяла 
данный флаг на ZF = 1, флаг, естественно, не устанавливался, то есть ZF = 0  и соотвественно команда jz выкидывала нас в другую ветку, выдывая следующее сообщение:

![image](https://github.com/user-attachments/assets/5846a2b7-fdb4-4b2b-b513-241849d51bc5)

На этом патчинг не заканчивается, надо еще сохранить программу. Edit -> Patch Program -> Apply Patches. Обязательно делаем бэкап на случай, если что-то пойдет не так.

![image](https://github.com/user-attachments/assets/3c0ca7ce-220f-4e54-ad82-84fb2a802f48)

Все. Теперь можно посмотреть результат в отлачиике. Сейчас мы должны безболезненно отлаживать программу



 

